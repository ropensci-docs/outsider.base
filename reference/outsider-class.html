<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Construct outsider object — outsider-class • rOpenSci: outsider.base</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<!-- Bootstrap -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>

<!-- ropensci -->
<link href="../ropensci.css" rel="stylesheet">

<meta property="og:title" content="Construct outsider object — outsider-class" />
<meta property="og:description" content="Returns an outsider object. The outsider object describes a
outsider module's program and arguments. The object is generated every
time an outsider module program is called. It details the arguments of a
call, the command as well as the files to send to the docker container." />
<meta name="twitter:card" content="summary" />






<!-- Matomo -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script src="https://ropensci.org/scripts/matomo.js"></script>
<noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt="" /></p></noscript>

<!-- End Matomo Code -->

  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci" /></a>
        <a class="navbar-brand" href="../index.html"><i>outsider.base <small>v0.1.3</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/outsider.base">
    <span class="fas fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right docsearch" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct outsider object</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/outsider.base/blob/master/R/outsider.R'><code>R/outsider.R</code></a></small>
    <div class="hidden name"><code>outsider-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Returns an outsider object. The outsider object describes a
outsider module's program and arguments. The object is generated every
time an outsider module program is called. It details the arguments of a
call, the command as well as the files to send to the docker container.</p>
    </div>

    <pre class="usage"><span class='fu'>outsider_init</span><span class='op'>(</span>
  <span class='va'>pkgnm</span>,
  cmd <span class='op'>=</span> <span class='cn'>NA</span>,
  arglist <span class='op'>=</span> <span class='cn'>NULL</span>,
  wd <span class='op'>=</span> <span class='cn'>NULL</span>,
  files_to_send <span class='op'>=</span> <span class='cn'>NULL</span>,
  ignore_errors <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span>

<span class='fu'>run</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for outsider</span>
<span class='fu'>run</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pkgnm</th>
      <td><p>Name of the installed R package for the outsider module</p></td>
    </tr>
    <tr>
      <th>cmd</th>
      <td><p>Command to be called in the container</p></td>
    </tr>
    <tr>
      <th>arglist</th>
      <td><p>Arguments for command, character vector</p></td>
    </tr>
    <tr>
      <th>wd</th>
      <td><p>Directory to which program generated files will be returned</p></td>
    </tr>
    <tr>
      <th>files_to_send</th>
      <td><p>Files to be sent to container</p></td>
    </tr>
    <tr>
      <th>ignore_errors</th>
      <td><p>Ignore raised errors? Default FALSE.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>outsider object</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of class <code>outsider</code> with the following items:</p>
<dt>pkgnm</dt><dd><p>Package name of the outsider module</p></dd>
<dt>cmd</dt><dd><p>Command to be called in the container</p></dd>
<dt>arglist</dt><dd><p>Arguments for command, character vector</p></dd>
<dt>wd</dt><dd><p>Directory to which program generated files will be returned</p></dd>
<dt>files_to_send</dt><dd><p>Files to be sent to container</p></dd>
<dt>container</dt><dd><p>Docker container object</p></dd>
<dt>ignore_errors</dt><dd><p>Prevent errors being raised</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The outsider module runs a docker container that acts like a 
separate machine on the host computer. All the files necessary for the 
program to be run must be sent to the remote machine before the program
is called.
The arguments, wd and files_to_send can all be defined after the outsider
has been initiated using <code><a href='https://rdrr.io/r/base/Extract.html'>$</a></code> notation.
Once a outsider has been defined, the command can be run using
<code>.run()</code>.
The <code>arglist</code>, <code>wd</code> or <code>files_to_send</code> do not need to be
defined for the outsider to be run.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Set-up: install "hello.world", ships with ubuntu</span>
<span class='co'># we can make simple commands in bash via R using the module</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://docs.ropensci.org/outsider.base'>outsider.base</a></span><span class='op'>)</span>

<span class='co'># Manually install example module</span>
<span class='co'># outsider.base contains the hello.world module in its package files</span>
<span class='va'>pkgnm</span> <span class='op'>&lt;-</span> <span class='st'>'om..hello.world'</span>
<span class='va'>mdl_flpth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>'extdata'</span>, <span class='st'>'om..hello.world'</span>,
                         package <span class='op'>=</span> <span class='st'>"outsider.base"</span><span class='op'>)</span>
<span class='co'># install and import (outsider::module_install performs these tasks)</span>
<span class='fu'><a href='pkg_install.html'>pkg_install</a></span><span class='op'>(</span>flpth <span class='op'>=</span> <span class='va'>mdl_flpth</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error: Can't find ''.</span></div><div class='input'><span class='fu'><a href='image_install.html'>image_install</a></span><span class='op'>(</span>pkgnm <span class='op'>=</span> <span class='va'>pkgnm</span><span class='op'>)</span>

<span class='co'># Run echo</span>
<span class='co'># create a outsider object that contains argument and Docker container details</span>
<span class='va'>otsdr</span> <span class='op'>&lt;-</span> <span class='fu'>outsider_init</span><span class='op'>(</span>pkgnm <span class='op'>=</span> <span class='va'>pkgnm</span>, cmd <span class='op'>=</span> <span class='st'>'echo'</span>, arglist <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'hello world!'</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error: No <span style='color: #00BB00;'>'om.yml'</span><span> for </span><span style='color: #00BB00;'>'om..hello.world'</span><span></span></div><div class='input'><span class='co'># check details</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in print(otsdr): object 'otsdr' not found</span></div><div class='input'><span class='co'># run the command</span>
<span class='fu'>run</span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in run(otsdr): object 'otsdr' not found</span></div><div class='input'>
<span class='co'># Send a file</span>
<span class='co'># an existing outsider object can be modified</span>
<span class='va'>tmppth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='va'>flpth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmppth</span>, <span class='st'>'testfile'</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/write.html'>write</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>'hello from within a file!'</span>, file <span class='op'>=</span> <span class='va'>flpth</span><span class='op'>)</span>
<span class='va'>otsdr</span><span class='op'>$</span><span class='va'>files_to_send</span> <span class='op'>&lt;-</span> <span class='va'>flpth</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$files_to_send &lt;- flpth: object 'otsdr' not found</span></div><div class='input'><span class='va'>otsdr</span><span class='op'>$</span><span class='va'>cmd</span> <span class='op'>&lt;-</span> <span class='st'>'cat'</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$cmd &lt;- "cat": object 'otsdr' not found</span></div><div class='input'><span class='va'>otsdr</span><span class='op'>$</span><span class='va'>arglist</span> <span class='op'>&lt;-</span> <span class='st'>'testfile'</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$arglist &lt;- "testfile": object 'otsdr' not found</span></div><div class='input'><span class='co'># check details</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in print(otsdr): object 'otsdr' not found</span></div><div class='input'><span class='co'># run the command</span>
<span class='fu'>run</span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in run(otsdr): object 'otsdr' not found</span></div><div class='input'>
<span class='co'># Return a file</span>
<span class='co'># an existing outsider object can be modified</span>
<span class='va'>otsdr</span><span class='op'>$</span><span class='va'>files_to_send</span> <span class='op'>&lt;-</span> <span class='cn'>NULL</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$files_to_send &lt;- NULL: object 'otsdr' not found</span></div><div class='input'><span class='va'>otsdr</span><span class='op'>$</span><span class='va'>cmd</span> <span class='op'>&lt;-</span> <span class='st'>'touch'</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$cmd &lt;- "touch": object 'otsdr' not found</span></div><div class='input'><span class='va'>otsdr</span><span class='op'>$</span><span class='va'>arglist</span> <span class='op'>&lt;-</span> <span class='st'>'newfile'</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$arglist &lt;- "newfile": object 'otsdr' not found</span></div><div class='input'><span class='va'>otsdr</span><span class='op'>$</span><span class='va'>wd</span> <span class='op'>&lt;-</span> <span class='va'>tmppth</span>  <span class='co'># determines where created files are returned to</span>
</div><div class='output co'>#&gt; <span class='error'>Error in otsdr$wd &lt;- tmppth: object 'otsdr' not found</span></div><div class='input'><span class='co'># check details</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in print(otsdr): object 'otsdr' not found</span></div><div class='input'><span class='co'># run the command</span>
<span class='fu'>run</span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in run(otsdr): object 'otsdr' not found</span></div><div class='input'><span class='co'># check if 'newfile' exists in tempdir()</span>
<span class='va'>nwflpth</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>tmppth</span>, <span class='st'>'newfile'</span><span class='op'>)</span>
<span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.exists</a></span><span class='op'>(</span><span class='va'>nwflpth</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># Clean-up</span>
<span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>otsdr</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: object 'otsdr' not found</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.remove</a></span><span class='op'>(</span><span class='va'>flpth</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/files.html'>file.remove</a></span><span class='op'>(</span><span class='va'>nwflpth</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: cannot remove file '/tmp/Rtmpes9RVA/newfile', reason 'No such file or directory'</span></div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'><a href='uninstall.html'>uninstall</a></span><span class='op'>(</span><span class='va'>pkgnm</span><span class='op'>)</span>
<span class='co'># }</span>
</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <!-- begin footer -->
<div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg" /></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate">Donate</a></li>
                            <li><a href="https://ropensci.org/contact">Contact Us</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct">Code of conduct</a></li>
                        </ul>
                    </div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
                            <h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/">Talks & Publications</a></li>
                            <li><a href="https://docs.ropensci.org/">Documentation</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/">Cite rOpenSci</a></li>
                        </ul>
                    </div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '799829e946e1f0f9cd5b5a782c6316b9',
    indexName: 'ropensci-outsider.base',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


